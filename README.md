# –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ: Effective Mobile GO

[![Go](https://img.shields.io/badge/Go-1.21-blue?logo=go&logoColor=white)](https://golang.org/)
[![Docker](https://img.shields.io/badge/Docker-20.10-blue?logo=docker&logoColor=white)](https://www.docker.com/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15.4-blue?logo=postgresql&logoColor=white)](https://www.postgresql.org/)

---

## üìÑ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **REST API** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ–Ω–ª–∞–π–Ω-–ø–æ–¥–ø–∏—Å–∫–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.  
–°–µ—Ä–≤–∏—Å –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- –î–æ–±–∞–≤–ª—è—Ç—å, –∏–∑–º–µ–Ω—è—Ç—å, —É–¥–∞–ª—è—Ç—å –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∑–∞–ø–∏—Å–∏ –æ –ø–æ–¥–ø–∏—Å–∫–∞—Ö.
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å —Å—É–º–º–∞—Ä–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–¥–ø–∏—Å–æ–∫ –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥.

---

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞—Ç—å —É–¥–æ–±–Ω—ã–π –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —É—á—ë—Ç–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –æ–Ω–ª–∞–π–Ω-–ø–æ–¥–ø–∏—Å–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å:

- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ.

---

## ‚öôÔ∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **CRUDL-–æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏:**
  - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∫–∏.
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–¥–ø–∏—Å–∫–∞—Ö (—Å–ø–∏—Å–æ–∫ –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å).
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏.
  - –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏.
- **–†–∞—Å—á—ë—Ç —Å—É–º–º–∞—Ä–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ–¥–ø–∏—Å–æ–∫** –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ:
  - `UserID`
  - –ù–∞–∑–≤–∞–Ω–∏—é —Å–µ—Ä–≤–∏—Å–∞.
- **–§–∏–ª—å—Ç—Ä—ã –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è** –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ –ø–æ–¥–ø–∏—Å–æ–∫.
- **Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å API.
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –∫–ª—é—á–µ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

---

## üóÉ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

–ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å –æ –ø–æ–¥–ø–∏—Å–∫–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è:

| –ü–æ–ª–µ        | –¢–∏–ø       | –û–ø–∏—Å–∞–Ω–∏–µ                              |
| ----------- | --------- | ------------------------------------- |
| ID          | UUID      | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–¥–ø–∏—Å–∫–∏     |
| ServiceName | string    | –ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞                      |
| Price       | int       | –°—Ç–æ–∏–º–æ—Å—Ç—å –º–µ—Å—è—á–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏           |
| UserID      | UUID      | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è            |
| StartDate   | MonthYear | –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –ø–æ–¥–ø–∏—Å–∫–∏ (–º–µ—Å—è—Ü-–≥–æ–¥)      |
| EndDate     | MonthYear | –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:

- YAML-—Ñ–∞–π–ª—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
- `.env` –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—á–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.

–ü—Ä–∏–º–µ—Ä YAML-—Ñ–∞–π–ª–∞: [configs/config.yaml](configs/)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è          | –û–ø–∏—Å–∞–Ω–∏–µ                                          |
| ------------------- | ------------------------------------------------- |
| `CONFIG_PATH`       | –ü—É—Ç—å –∫ YAML-—Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏                    |
| `DB_USER`           | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL           |
| `DB_PASS`           | –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö                   |
| `DB_NAME`           | –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö                                   |
| `DB_HOST`           | –•–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö                                  |
| `DB_PORT`           | –ü–æ—Ä—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö                    |
| `DB_HOST_PORT`      | –ü–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Ö–æ—Å—Ç-–º–∞—à–∏–Ω–µ (Docker Compose)  |
| `SERVER_PORT`       | –ü–æ—Ä—Ç HTTP-—Å–µ—Ä–≤–µ—Ä–∞ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞               |
| `SERVICE_HOST_PORT` | –ü–æ—Ä—Ç HTTP-—Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ —Ö–æ—Å—Ç-–º–∞—à–∏–Ω–µ (Docker Compose) |

–ü—Ä–∏–º–µ—Ä `.env`:

```env
CONFIG_PATH=configs/config.yaml

DB_USER=postgres
DB_PASS=password
DB_NAME=test_db
DB_HOST=postgres
DB_PORT=5432

DB_HOST_PORT=5432

SERVER_PORT=8080
SERVICE_HOST_PORT=8080
```

---

## üê≥ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ Docker

1. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤:

```bash
docker-compose up --build
```

2. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤:

```bash
docker-compose down
```

3. Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:

```
http://localhost:8080/swagger/index.html
```

---

## üîß –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API

- **–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏**

```bash
POST /subscriptions
Content-Type: application/json

{
  "serviceName": "Netflix",
  "price": 12,
  "userID": "123e4567-e89b-12d3-a456-426614174000",
  "startDate": "08-2025",
  "endDate": "12-2025"
}
```

- **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫**

```bash
GET /subscriptions?userID=123e4567-e89b-12d3-a456-426614174000&page=1&limit=10
```

- **–†–∞—Å—á—ë—Ç —Å—É–º–º–∞—Ä–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ–¥–ø–∏—Å–æ–∫**

```bash
GET /subscriptions/total?userID=123e4567-e89b-12d3-a456-426614174000&period_start=01-2025&period_end=12-2025
```

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Go**
- **Gin** ‚Äî HTTP-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è REST API
- **GORM** ‚Äî ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL
- **PostgreSQL** ‚Äî –°–£–ë–î
- **golang-migrate** ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **Docker / Docker Compose** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
- **Swagger** ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫ API
- **Logrus** ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Mockery** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–æ–∫–æ–≤ –¥–ª—è unit-—Ç–µ—Å—Ç–æ–≤
- **Testcontainers** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å PostgreSQL

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- **Unit-—Ç–µ—Å—Ç—ã** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–∫–æ–≤ —á–µ—Ä–µ–∑ Mockery
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** —Å PostgreSQL —á–µ—Ä–µ–∑ Testcontainers
- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ CRUD-–æ–ø–µ—Ä–∞—Ü–∏–π –∏ –ø–æ–¥—Å—á—ë—Ç–∞ —Å—É–º–º–∞—Ä–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ–¥–ø–∏—Å–æ–∫
